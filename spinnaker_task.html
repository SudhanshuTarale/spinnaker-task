<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">
    <title>Web Dev Task</title>
</head>

<body>
    <table style="width: 100%;height: 100vh;">
        <tr>
            <td style="border-right: 1px solid grey;">
                <div class="toplefttitle d-flex justify-content-center align-items-center">Plan/Baseline</div>
            </td>
            <td>
                <div class="toplefttitle d-flex justify-content-center align-items-center">Scenario</div>
            </td>
        </tr>
        <tr style="background-color: #07092d;"">
            <td style=" border-right: 1px solid white;">
            <div>
                <table class="secondTable d-flex justify-content-center align-items-center">
                    <tr style="color: white;">
                        <td class="names"><b>GWP</b></td>
                        <td class="names"><b>NWP</b></td>
                        <td class="names"><b>NEP</b></td>
                        <td class="names"><b>ROE</b></td>
                    </tr>
                    <tr style="color: white;">
                        <td class="dollar"><b>$42B</b></td>
                        <td class="dollar"><b>$37.8B</b></td>
                        <td class="dollar"><b>$34B</b></td>
                        <td class="dollar"><b>8%</b></td>
                    </tr>
                </table>
            </div>
            </td>
            <td>
                <div>
                    <table class="secondTable d-flex justify-content-center align-items-center">
                        <tr style="color: white;">
                            <p>
                                <td class="names"><span><b>GWP</b></span><span><img
                                            src="newarrow.png"></span></td>
                            </p>

                            <p>
                                <td class="names"><span><b>NWP</b></span><span><img
                                            src="newarrow.png"></span></td>
                            </p>
                            <p>
                                <td class="names"><span><b>NEP</b></span><span><img
                                            src="newarrow.png"></span></td>
                            </p>
                            <p>
                                <td class="names"><span><b>ROE</b></span><span><img
                                            src="newarrow2.png"></span></td>
                            </p>
                        </tr>
                        <tr style="color: white;">
                            <td class="dollar"><b>$47B</b></td>
                            <td class="dollar"><b>$42.3B</b></td>
                            <td class="dollar"><b>$38B</b></td>
                            <td class="dollar"><b>33.1%</b></td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
        <tr>
            <td style="border-right: 1px solid black;">
                <div class="stack" style="display: flex;
                align-items: center;
                justify-content: center;">
                    <div>
                        <br>
                        <p style="text-align: center;">Expense Ratio</p>
                        <div style="height: 2vh;width: 200px; background-color: green;" data-toggle="tooltip"
                            data-placement="left" title="UW,Margin: 1% ($340M)">
                            <p class="stacktext">UW,Margin: 1% ($340M)</p>
                        </div>
                        <div style="height: 5vh;width: 200px; background-color: yellow;" data-toggle="tooltip"
                            data-placement="left" title="Admin: 14% ($4,763M)">
                            <p class="stacktext">Admin: 14% ($4,763M)</p>
                        </div>
                        <div style="height: 8vh;width: 200px; background-color: orange;" data-toggle="tooltip"
                            data-placement="left" title="Acquisition: 15% ($5,103M)">
                            <p class="stacktext">Acquisition: 15% ($5,103M)</p>
                        </div>
                        <div style="height: 20vh;width: 200px; background-color: red;" data-toggle="tooltip"
                            data-placement="left" title="Loss: 70% ($23,814M)">
                            <p class="stacktext">Loss: 70% ($23,814M)</p>
                        </div>
                    </div>
                </div>
            </td>
            <td>
                <div class="stack" style="display: flex;
                align-items: center;
                justify-content: center;">
                    <div>
                        <br>
                        <p style="text-align: center;">Expense Ratio</p>
                        <div data-tooltip="UW,Margin: 4% ($1,140M)"
                            style="height: 2vh;width: 200px; background-color: green;" data-toggle="tooltip"
                            data-placement="right" title="UW,Margin: 4% ($1,140M)">
                            <p class="stacktext">UW,Margin: 4% ($1,140M)</p>
                        </div>
                        <div data-tooltip="Admin: 12% ($4,512M)"
                            style="height: 5vh;width: 200px; background-color: yellow;" data-toggle="tooltip"
                            data-placement="right" title="Admin: 12% ($4,512M)">
                            <p class="stacktext">Admin: 12% ($4,512M)</p>
                        </div>
                        <div data-tooltip="Acquisition: 17% ($6,280M)"
                            style="height: 8vh;width: 200px; background-color: orange;" data-toggle="tooltip"
                            data-placement="right" title="Acquisition: 17% ($6,280M)">
                            <p class="stacktext">Acquisition: 17% ($6,280M)</p>
                        </div>
                        <div data-tooltip="Loss: 68% ($25,833M)"
                            style="height: 20vh;width: 200px; background-color: red;outline: none;"
                            data-toggle="tooltip" data-placement="right" title="Loss: 68% ($25,833M)">
                            <p class="stacktext">Loss: 68% ($25,833M)</p>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td style="justify-content: center;width: 50%;background-color: #07092d;border-right: 1px solid white;">
                <div class="d-flex justify-content-center align-items-center"
                    style="padding-top: 15px;padding-bottom: 15px;">
                    <p style="text-align: center;color: white;padding-top: 10px;">Product Mix(%GWP)
                        <canvas id="myChartLeft"
                            style="width: 500px;height: 250px;align-items: right;padding-top: 10px;">
                        </canvas>
                    </p>
                </div>
            </td>

            <td style="justify-content: center;width: 50%;background-color: #07092d;">
                <div class="d-flex justify-content-center align-items-center">
                    <p style="text-align: center;color: white;padding-top: 10px;">Product Mix(%GWP)
                        <canvas id="myChartRight"
                            style="width: 500px;height: 250px;align-items: right;padding-top: 10px;">
                        </canvas>
                    </p>
                </div>
            </td>
        </tr>
        <tr>
            <td style="border-right: 1px solid black;padding-bottom: 30px;">
                <p style="text-align: center;padding-top:10px ;">Capital Intensity</p>
                <div class="container d-flex justify-content-center align-items-center" style="font-size: 12px;">
                    <div class="left d-flex justify-content-center align-items-center">Loss 22%</div>
                    <div class="right" style="padding-top: 3px;text-align: right;">High
                        78%
                    </div>
                    <div class="clearFix"></div>
                </div>
            </td>
            <td style="padding-bottom: 30px;">
                <p style="text-align: center;padding-top: 10px;">Capital Intensity</p>
                <div class="container d-flex justify-content-center align-items-center" style="font-size: 12px;">
                    <div class="left d-flex justify-content-center align-items-center">Loss 22%</div>
                    <div class="right" style="padding-top: 3px;text-align: right;">High
                        78%</div>
                    <div class="clearFix"></div>
                </div>
            </td>
        </tr>
    </table>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.css"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script> -->

    <script>
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
        var options = {
            legend: false,
            responsive: false,
            plugins: {
                datalabels: {
                    formatter: (value, ctx) => {

                        let datasets = ctx.chart.data.datasets;

                        if (datasets.indexOf(ctx.dataset) === datasets.length - 1) {
                            let sum = datasets[0].data.reduce((a, b) => a + b, 0);
                            let percentage = Math.round((value / sum) * 100) + '%';
                            return percentage;
                        } else {
                            return percentage;
                        }
                    },
                    color: '#fff',
                }
            }
        };
        new Chart(document.getElementById("myChartLeft"), {
            type: 'doughnut',
            tooltipFillColor: "rgba(51, 51, 51, 0.55)",
            data: {
                labels: [
                    "Casualty",
                    "Fin Lines",
                    "Work Comp",
                    "Property",
                    "Pers Lines",
                    "A&H",
                    "Life"
                ],
                datasets: [{
                    data: [23.3, 19.9, 17, 14.2, 11.4, 8.5, 5.7],
                    backgroundColor: [
                        "blue",
                        "red",
                        "yellow",
                        "green",
                        "violet",
                        "lightblue",
                        "pink"
                    ],
                    hoverBackgroundColor: [
                        "#CFD4D8",
                        "#B370CF",
                        "#E95E4F",
                        "#36CAAB",
                        "#49A9EA"
                    ]
                }]
            },
            options: options
        });
    </script>


    <script>
        var options = {
            legend: false,
            responsive: false,
            plugins: {
                datalabels: {
                    formatter: (value, ctx) => {

                        let datasets = ctx.chart.data.datasets;

                        if (datasets.indexOf(ctx.dataset) === datasets.length - 1) {
                            let sum = datasets[0].data.reduce((a, b) => a + b, 0);
                            let percentage = Math.round((value / sum) * 100) + '%';
                            return percentage;
                        } else {
                            return percentage;
                        }
                    },
                    color: '#fff',
                }
            }
        };
        new Chart(document.getElementById("myChartRight"), {
            type: 'doughnut',
            tooltipFillColor: "rgba(51, 51, 51, 0.55)",
            data: {
                labels: [
                    "Casualty",
                    "Fin Lines",
                    "Work Comp",
                    "Property",
                    "Pers Lines",
                    "A&H",
                    "Life"
                ],
                datasets: [{
                    data: [24.1, 19.7, 16.9, 14.1, 11.2, 8.4, 5.6],
                    backgroundColor: [
                        "blue",
                        "red",
                        "yellow",
                        "green",
                        "violet",
                        "lightblue",
                        "pink"
                    ],
                    hoverBackgroundColor: [
                        "#CFD4D8",
                        "#B370CF",
                        "#E95E4F",
                        "#36CAAB",
                        "#49A9EA"
                    ]
                }]
            },
            options: options
        });
    </script>

</body>

</html>